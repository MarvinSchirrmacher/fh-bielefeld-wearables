#:import ContentListItem content_management.ContentListItem
#:import listadapter kivy.adapters.listadapter
#:import ListItemLabel kivy.uix.listview
#:import CompositeListItem kivy.uix.listview

<Widget>:
    color: .1, .1, .1, 1
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

<Label>:
    font_size: sp(25)
    halign: 'left'

<TabbedPanel>:
    do_default_tab: False
    tab_pos: 'right_top'
    tab_height: pt(40)
    tab_width: self.height / 3

<Button>:
    background_color: 0.341, 0.839, 0.576, 1
    background_normal: ''
    color: 1, 1, 1, 1

<ListViewItem>:
    background_color: 0, 0, 0, .1

<Management>:
    TabbedPanelItem:
        text: 'Pack'

        GridLayout:
            cols: 2

#            Button:
#                text: 'Start reading'
#                size_hint_y: None
#                height: pt(40)
#                on_press: root.content_management.start()
#            Button:
#                text: 'Stop reading'
#                size_hint_y: None
#                height: pt(40)
#                on_press: root.content_management.stop()
            ListView:
                item_strings: ['{0} ({1})'.format(root.settings.tags[tag]['name'], tag) for tag in root.settings.current_content]
#                adapter: listadapter.ListAdapter(
#                    data=[{'name': root.settings.tags[tag]['name'], 'tag': tag} \
#                    for tag in root.settings.current_content],
#                    args_converter=lambda row, item: { \
#                    'orientation': 'vertical', 'cls_dicts': [\
#                    {'cls': ListItemLabel, 'kwargs': { 'text': item['name'] }},\
#                    {'cls': ListItemLabel, 'kwargs': { 'text': item['tag'] }},\
#                    ]},
#                    selection_mode='single',
#                    allow_empty_selction=False,
#                    cls=CompositeListItem)
            ListView:

    TabbedPanelItem:
        text: 'Trim'

        BoxLayout:
            Label:
                text: 'Trimming mode is active.\nWatch for the LEDs on the shoulder straps.'
                halign: 'center'

    TabbedPanelItem:
        text: 'Configure'

        BoxLayout:
            orientation: 'vertical'

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Gender'
                Label:
                    text: str(root.settings.gender)

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Birthday'
                Label:
                    text: str(root.settings.birthday)

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Height'
                Label:
                    text: str(root.settings.height)

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Weight'
                Label:
                    text: str(root.settings.weight)

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Lighting mode'
                Label:
                    text: str(root.settings.lighting_mode)